<?xml version="1.0" encoding="UTF-8"?>
<module v="0.0.1.0">
	<info
		version		 = "0.1.0.1"
		name		 = "com.graphene.acl"
		namespace	 = "acl"
		author		 = "Marco Magnetti [marcomagnetti@gmail.com]"
        depends      = "com.graphene.users, com.graphene.auth"
	/>

    <action name="CREATE_GROUP"         method="post"   query="group"/>
    <action name="UPDATE_GROUP"         method="put"    query="group"/>
    <action name="DELETE_GROUP"         method="delete" query="group"/>

    <action name="ADD_PERMISSION"       method="post"   query="permission"/>
    <action name="REMOVE_PERMISSION"    method="delete" query="permission"/>
    <action name="READ_PERMISSIONS"     method="get"    query="permission/:group"/>

    <action name="SET_USER_GROUP"       method="post"   query="userGroup"/>

    <action name="READ_GROUPS_BY_USER"  method="get"    query="userGroup/byUser/:userId"/>
    <action name="READ_USERS_BY_GROUP"  method="get"    query="userGroup/byGroup/:group"/>

    <!-- Filters -->
    <filter name = "ACL_CHECK"         scope="global"  after = "com.graphene.auth.AUTH_CHECK"/>
</module>